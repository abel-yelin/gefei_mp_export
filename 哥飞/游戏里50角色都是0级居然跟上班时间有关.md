![cover_image](https://mmbiz.qlogo.cn/mmbiz_jpg/LBrX00GQeicuoyvOnibic0wVib8SgbkP749QNmOgqr2QEPVjwc5RY8F8LMXz3pMQNsFbbmic1WQbQjoeVzBQzKRfxJw/0?wx_fmt=jpeg)

#  游戏里 50% 角色都是 0 级居然跟上班时间“有关”

原创  我是哥飞  [ 哥飞 ](javascript:void\(0\);)

__ _ _ _ _

> 哥飞，十年技术人，创过业，卖过公司，现为某游戏发行公司技术负责人。欢迎关注，在这里，哥飞和你聊技术、管理、广告、游戏等话题。

  

  

上周接入一款游戏后，

运营同事发现次日留存有点问题，

就去 CP 后台下载创角日志和升级日志。

  

统计日志后发现，

每天 0 到 9 点进来的角色中有 50% 都是 0 级。

  

正常玩家至少会玩一会儿，

那么角色等级就会变化，

不可能是 0 级。

  

0 级的就是创建角色后，

啥都没操作就流失了。

  

这个问题就严重了，

遂各种排查。

  

排查我们自己的发行 SDK 前后端，

同时在发行的其他游戏数据正常，

看各种错误日志也没异常，

所以发行 SDK 应该是没问题的。

  

再问 CP，

CP 排查各种数据后，

也说没问题。

  

这就很神奇了，

而且每天运营上班后都会统计，

每天都有问题。

  

直到今天，

我让运营给日志给我，

我用脚本来计算一下。

  

结果发现更严重的问题，

不仅仅是 0 到 9 点有问题，

而是除了每天最后 3 个小时，

其他时间都有问题。

  

而且 0 级比例更高，

不仅仅 50% 角色是 0 级，

而是最高 88% 都是 0 级。

  

出大问题了啊，

这很严重啊，

但是其实游戏各种数据还是挺正常的。

  

再按照区服分组统计数据，

终于发现规律了，

每个服刚开服的 0 级角色最多，

再往后 0 级角色比例越来越低。

  

我就想，

会不会是游戏日志文件有问题。

  

再回过头来看日志文件，

果然发现问题了，

原来是 CP 后台下载的日志单文件最高 5 万条。

  

又因为 CP 后台每次只能下载一个服的日志，

所以每个服下载的都是最新的 5 万条升级日志，

最早进来的玩家，

如果最近没有玩游戏，

那么他们的升级日志就不在这 5 万条内，

所以就被判定为 0 级角色了。

  

那为什么最开始会被认定为 0 到 9 点有问题呢？

因为我们运营同事每天 10 点上班，

开完运营会议差不多 11 点左右开始统计数据。

  

所以最新的 5 万条日志，

一大半是最近一两个小时导入的角色升级日志，

还有一小半是之前几个小时导入的角色升级日志，

所以得出的结论是，

一到 10 点就正常。

  

预览时标签不可点

微信扫一扫  
关注该公众号





****



****



  收藏

